@using System.Globalization
@model MicroStore.Client.PublicWeb.Areas.Administration.Models.Ordering.OrderAggregateVM

<abp-card>
    <abp-card-header>
        <abp-card-title>
            <i class="fas fa-info mr-1 text-lightblue"></i> Order Items
        </abp-card-title>
        <div class="card-tools">
            <button type="button" class="btn  btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus text-lg"></i>
            </button>
        </div>
    </abp-card-header>
    <abp-card-body>
        <abp-table>
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(x=> x.Items.First().Thumbnail)</th>
                    <th>@Html.DisplayNameFor(x=> x.Items.First().Name)</th>
                    <th>@Html.DisplayNameFor(x=> x.Items.First().Sku)</th>
                    <th>@Html.DisplayNameFor(x=> x.Items.First().Quantity)</th>
                    <th>@Html.DisplayNameFor(x=> x.Items.First().UnitPrice)</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model.Items)
                {
                    <tr>
                        @{
                            var itemImage = item.Thumbnail ?? @"/user-content/no-image.png";
                            var productPrice = item.UnitPrice.ToString("C", new CultureInfo("en-US"));
                        }
                        <td><img src="@itemImage" style="max-width:45px; max-height:45px;"> </td>
                        <td>@item.Name</td>
                        <td>@item.Sku</td>
                        <td>@item.Quantity</td>
                        <td>@productPrice</td>
                    </tr>
                }
            </tbody>
        </abp-table>
    </abp-card-body>
</abp-card>
