@using MicroStore.Client.PublicWeb.Components.OrderDetailsWidget;
@using System.Globalization;
@model OrderDetailsWidgetViewModel
@{

    var orderNumber = Enumerable.Range(0, Model.Order.OrderNumber.Length)
                .Select(x => Model.Order.OrderNumber.Substring(x * 3, 3))
                .JoinAsString(" ");

    var paymentStatus = Model.Order.PaymentId != null ? "Paid" : "UnPaid";

    var orderStatus = Model.Order.CurrentState;

    var submissionDate = Model.Order.SubmissionDate.ToString("dd MMMM yyyy");

}
<abp-container>
    <abp-card>
        <abp-card-header>
            <abp-row>
                <abp-column size="_3">
                    <h5 class="d-block text-uppercase">Order Date</h5>
                    <h5 class="d-block">@submissionDate</h5>
                </abp-column>
                <abp-column size="_3">
                    <h5 class="d-block text-uppercase">Order NO</h5>
                    <h5 class="d-block">@orderNumber</h5>
                </abp-column>
                <abp-column size="_3">
                    <h5 class="d-block text-uppercase">Order Status</h5>
                    <h5 class="d-block">@orderStatus</h5>
                </abp-column>
                <abp-column size="_3">
                    <h5 class="d-block text-uppercase">PAYMENT Status</h5>
                    <h5 class="d-block">@paymentStatus</h5>
                </abp-column>
            </abp-row>
        </abp-card-header>
        <abp-card-body>
            @foreach (var item in Model.Order.Items)
            {
                <abp-card class="order-item m-3" data-product-id="@item.ExternalProductId">
                    <abp-card-body>
                        <abp-row>
                            <abp-column size="_2">
                                <a href="/products/@item.ExternalProductId">
                                    @{
                                        string imageUrl = item.Thumbnail ?? "/user-content/no-image.png";
                                        <img class="img-size w-75" src="@imageUrl" />
                                    }
                                </a>
                            </abp-column>
                            <abp-column size-lg="_4" size-md="_4" size-sm="_4">
                                <a href="/products/@Guid.NewGuid().ToString()">
                                    <h3><strong class="text-dark">@item.Name</strong></h3>
                                    <h5><em class="text-secondary">@item.Sku</em></h5>
                                </a>
                                <div class="mt-3">
                                    <a href="javascript:void(0)" id="cartEffect" class="btn btn-solid hover-solid btn-animation buy-again">
                                        <i class="fa fa-shopping-cart me-1" aria-hidden="true"></i> Buy Again
                                    </a>

                                </div>
                            </abp-column>
                            <abp-column offset="_3" size="_2">
                                <abp-row class="pb-3">
                                    <abp-button class="btn btn-light shadow" disabled="true" abp-tooltip-right="Not available yet">
                                        Return Product
                                    </abp-button>
                                </abp-row>
                                <abp-row>
                                    <abp-button class="btn btn-light shadow" disabled="true" abp-tooltip-right="Not available yet">
                                        Reivew Product
                                    </abp-button>
                                </abp-row>
                            </abp-column>
                        </abp-row>
                    </abp-card-body>
                </abp-card>
            }

        </abp-card-body>
    </abp-card>
</abp-container>