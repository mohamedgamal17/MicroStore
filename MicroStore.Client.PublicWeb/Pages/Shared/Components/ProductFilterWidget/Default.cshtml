@using MicroStore.Client.PublicWeb.Components.ProductFilterWidget;
@model ProductFilterWidgetModel
<form id="ProductFilterForm">
    <div class="collection-filter-block">
        <div class="collection-mobile-back">
            <span class="filter-back">
                <i class="fa fa-angle-left" aria-hidden="true"></i> back
            </span>
        </div>
        @if (Model.Categories != null && Model.Categories.Count > 0)
        {
            <div class="collection-collapse-block open">
                <h3 class="collapse-block-title">Categories</h3>
                <div class="collection-collapse-block-content">
                    <div class="collection-brand-filter">
                        <div class="form-check collection-filter-checkbox">
                            <input type="radio" class="product-filter form-check-input" value="" id="Category_All" name="Category" 
                                @(string.IsNullOrEmpty(Model.FilterCategory) ? "checked" : string.Empty)>
                            <label class="form-check-label" for="Category_All">All</label>
                        </div>
                        @foreach (var category in Model.Categories)
                        {
                            var isChecked = Model.FilterCategory == category.Name ? "checked" : string.Empty;
                            <div class="form-check collection-filter-checkbox">
                                <input type="radio" class="product-filter form-check-input" id="@category.Name" name="Category" value="@category.Name" @isChecked>
                                <label class="form-check-label" for="@category.Name">@category.Name</label>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }

        @if (Model.Manufacturers != null && Model.Manufacturers.Count > 0)
        {
            <div class="collection-collapse-block open">
                <h3 class="collapse-block-title">Brands</h3>
                <div class="collection-collapse-block-content">
                    <div class="collection-brand-filter">
                        <div class="form-check collection-filter-checkbox">
                            <input type="radio" class="product-filter form-check-input " value="" id="Manufacturer_All" name="Manufacturer" @(string.IsNullOrEmpty(Model.FilterManufacturer) ? "checked" : string.Empty)>
                        <label class="form-check-label" for="Manufacturer_All">All</label>
                        </div>
                        @foreach (var manufacturer in Model.Manufacturers)
                        {
                            var isChecked = Model.FilterManufacturer == manufacturer.Name ? "checked" : string.Empty;
                            <div class="form-check collection-filter-checkbox">
                                <input type="radio" class="product-filter form-check-input " id="@manufacturer.Name" name="Manufacturer" value="@manufacturer.Name" @isChecked>
                                <label class="form-check-label" for="Manufacturer">@manufacturer.Name</label>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }

        <div class="collection-collapse-block border-0 open">
            <h3 class="collapse-block-title">price</h3>
            <div class="collection-collapse-block-content">
                <div class="wrapper mt-3">
                    <div class="range-slider">
                        <input type="text" class="js-range-slider" name="PriceRange"
                            data-min="0" data-max="5000" data-step="1"
                               data-values-seprator=" - " data-prettify-enabled="true" data-prettify-separator = "." , />
                        <input type="hidden" class="product-filter js-input-from" name="MinPrice" />
                        <input type="hidden" class=" product-filter js-input-to" name="MaxPrice" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

